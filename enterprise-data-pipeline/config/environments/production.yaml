# Production Environment Configuration
# =====================================

# Override base config for production environment

databricks:
  spark:
    app_name: "CryptoDataPipeline-PROD"
    shuffle_partitions: 200
    log_level: "INFO"

api:
  coingecko:
    rate_limit_per_minute: 50
    timeout: 30
    retry_attempts: 5

data_quality:
  validation_rules:
    max_null_percentage: 1  # Strict validation in production
    required_columns:
      - id
      - symbol
      - name
      - current_price
      - market_cap
      - total_volume
    
    numeric_ranges:
      current_price:
        min: 0
        max: 1000000
      market_cap:
        min: 0
        max: 10000000000000
    
    freshness_column: "last_updated"
    max_age_hours: 2  # Data must be recent

snowflake:
  warehouse: "COMPUTE_WH"
  database: "CRYPTO_DATA_PROD"
  schema: "PUBLIC"
  
  tables:
    silver: "silver_crypto_clean"
    gold: "gold_crypto_metrics"
    metadata: "pipeline_metadata"

logging:
  level: "INFO"
  structured: true
  output_file: "logs/pipeline_prod.json"

# Production-specific settings
monitoring:
  enabled: true
  alert_on_failure: true
  metrics_export: true
