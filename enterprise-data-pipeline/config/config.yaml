# Enterprise Data Pipeline Configuration
# Complete configuration file

api:
  coingecko:
    base_url: "https://api.coingecko.com/api/v3"
    endpoints:
      markets: "/coins/markets"
      trending: "/search/trending"
    params:
      vs_currency: "usd"
      order: "market_cap_desc"
      per_page: 100
      page: 1
    rate_limit_per_minute: 50
    timeout: 30
    retry_attempts: 3
    retry_delay: 5

# Databricks / Spark Configuration
databricks:
  spark:
    app_name: "CryptoDataPipeline"
    shuffle_partitions: 200
    adaptive_enabled: true
  storage:
    bronze_path: "dbfs:/mnt/data/bronze/crypto"
    silver_path: "dbfs:/mnt/data/silver/crypto"
    gold_path: "dbfs:/mnt/data/gold/crypto"
    checkpoint_path: "dbfs:/mnt/data/checkpoints/crypto"

# Snowflake Configuration (retrieved from Azure Key Vault)
snowflake:
  warehouse: "SNOWFLAKE_LEARNING_WH"
  database: "CRYPTO_DB"
  schema: "PUBLIC"
  role: "ACCOUNTADMIN"

# Data Quality Rules
data_quality:
  validation_rules:
    required_fields:
      - id
      - symbol
      - name
      - current_price
    numeric_fields:
      - current_price
      - market_cap
      - total_volume
      - market_cap_rank
    min_price: 0.0000001
    max_price: 1000000000
